"use strict";(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[834],{44741:(e,t,r)=>{r.r(t),r.d(t,{cardDirective:()=>a,splitParagraphNode:()=>p});var s=r(7493);const n=/((?<before>[\s\S]*?)\s+){0,1}\^\^\^(\s+(?<after>[\s\S]*)){0,1}/,a={name:"card",alias:"grid-item-card",arg:{type:s.Ft.parsed},options:{link:{type:s.Ft.string},header:{type:s.Ft.parsed},footer:{type:s.Ft.parsed}},body:{type:s.Ft.parsed,required:!0},run(e){const{link:t,header:r,footer:s}=e.options||{};let n,a,l;if(r||s)n=r?[{type:"paragraph",children:r}]:[],a=e.body,l=s?[{type:"paragraph",children:s}]:[];else{const[t,r]=function(e){const t=[],r=[];let s=!1;return e.forEach((e=>{if(s)r.push(e);else if("paragraph"!==e.type)t.push(e);else{const n=p(e),{before:a,after:l}=n;s=n.post,a&&t.push(a),l&&r.push(l)}})),[t,r]}(e.body);n=r.length?t:[];const s=r.length?r:t;[a,l]=function(e){const t=[],r=[];let s=!1;return e.forEach((e=>{s?r.push(e):"blockBreak"!==e.type?t.push(e):s=!0})),[t,r]}(s)}const o=[];return n.length&&o.push({type:"header",children:n}),e.arg&&o.push({type:"cardTitle",children:e.arg}),o.push(...a),l.length&&o.push({type:"footer",children:l}),[{type:"card",url:t,children:o}]}};function p(e){var t;const r=[],s=[];let a=!1;return null===(t=e.children)||void 0===t||t.forEach((e=>{var t;if(a)return void s.push(e);if("text"!==e.type||!e.value)return void r.push(e);const p=e.value,l=n.exec(p);if(!l)return void r.push(e);a=!0;const{before:o,after:h}=null!==(t=l.groups)&&void 0!==t?t:{};o&&r.push({type:"text",value:o}),h&&s.push({type:"text",value:h})})),{before:r.length?Object.assign(Object.assign({},e),{children:r}):null,after:s.length?Object.assign(Object.assign({},e),{children:s}):null,post:a}}}}]);