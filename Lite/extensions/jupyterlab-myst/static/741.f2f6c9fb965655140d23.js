"use strict";(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[741,834],{7493:(e,r,t)=>{var n;t.d(r,{F:()=>n}),function(e){e.string="string",e.number="number",e.boolean="boolean",e.parsed="parsed"}(n||(n={}))},44741:(e,r,t)=>{t.r(r),t.d(r,{cardDirective:()=>a,splitParagraphNode:()=>p});var n=t(7493);const s=/((?<before>[\s\S]*?)\s+){0,1}\^\^\^(\s+(?<after>[\s\S]*)){0,1}/,a={name:"card",alias:"grid-item-card",arg:{type:n.F.parsed},options:{link:{type:n.F.string},header:{type:n.F.parsed},footer:{type:n.F.parsed}},body:{type:n.F.parsed,required:!0},run(e){const{link:r,header:t,footer:n}=e.options||{};let s,a,o;if(t||n)s=t?[{type:"paragraph",children:t}]:[],a=e.body,o=n?[{type:"paragraph",children:n}]:[];else{const[r,t]=function(e){const r=[],t=[];let n=!1;return e.forEach((e=>{if(n)t.push(e);else if("paragraph"!==e.type)r.push(e);else{const s=p(e),{before:a,after:o}=s;n=s.post,a&&r.push(a),o&&t.push(o)}})),[r,t]}(e.body);s=t.length?r:[];const n=t.length?t:r;[a,o]=function(e){const r=[],t=[];let n=!1;return e.forEach((e=>{n?t.push(e):"blockBreak"!==e.type?r.push(e):n=!0})),[r,t]}(n)}const l=[];return s.length&&l.push({type:"header",children:s}),e.arg&&l.push({type:"cardTitle",children:e.arg}),l.push(...a),o.length&&l.push({type:"footer",children:o}),[{type:"card",url:r,children:l}]}};function p(e){var r;const t=[],n=[];let a=!1;return null===(r=e.children)||void 0===r||r.forEach((e=>{var r;if(a)return void n.push(e);if("text"!==e.type||!e.value)return void t.push(e);const p=e.value,o=s.exec(p);if(!o)return void t.push(e);a=!0;const{before:l,after:u}=null!==(r=o.groups)&&void 0!==r?r:{};l&&t.push({type:"text",value:l}),u&&n.push({type:"text",value:u})})),{before:t.length?Object.assign(Object.assign({},e),{children:t}):null,after:n.length?Object.assign(Object.assign({},e),{children:n}):null,post:a}}}}]);